<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>æ–‡ç«  â€” äº‘ç«‹</title>
  <style>
    :root{--bg1:#071026;--bg2:#061027;--surface:#071026;--text:#e6eef8;--muted:#94a3b8;--accent:#60a5fa;--card-border:rgba(255,255,255,0.03)}
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Arial;margin:0;background:linear-gradient(180deg,var(--bg1),var(--bg2));color:var(--text);transition:background-color .25s,color .25s}
    body.light{--bg1:#f5f7fb;--bg2:#fff;--surface:#fff;--text:#0b1220;--muted:#6b7280;--accent:#2563eb;--card-border:rgba(2,6,23,0.06)}
    .wrap{max-width:900px;margin:28px auto;padding:18px}
    a{color:var(--accent)}
    .theme-toggle{position:fixed;right:14px;top:14px;background:var(--surface);color:var(--text);border:1px solid var(--card-border);padding:8px;border-radius:8px;cursor:pointer}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
  <div class="wrap">
    <a href="blog.html">â† è¿”å›åšå®¢</a>
    <article id="content">  åŠ è½½ä¸­â€¦</article>
  </div>

  <script>
    function qs(name){const u=new URL(location.href);return u.searchParams.get(name)}
    async function load(){
      let file = qs('file');
      if(!file){document.getElementById('content').innerText='æœªæŒ‡å®šæ–‡ç« æ–‡ä»¶';return}
      try{
        // decode in case the query was encoded
        file = decodeURIComponent(file);
      }catch(e){}
      // Basic safety: do not allow attempts to fetch outside posts/ directory
      if(!file.startsWith('posts/')){document.getElementById('content').innerText='æ–‡ç« è·¯å¾„ä¸åˆæ³•';return}
      try{
        const res = await fetch(file);
        if(!res.ok) throw 0;
        const md = await res.text();
        document.getElementById('content').innerHTML = marked.parse(md);
      }catch(e){document.getElementById('content').innerText='è¯»å–æ–‡ç« å¤±è´¥'}
    }
    load();
  </script>
  <button id="globalThemeBtn" class="theme-toggle" title="åˆ‡æ¢æ—¥/å¤œæ¨¡å¼">ğŸŒ™</button>
  <script>
    const gBtn = document.getElementById('globalThemeBtn');
    function applyThemePage(t){ if(t==='light') document.body.classList.add('light'); else document.body.classList.remove('light'); gBtn.textContent = document.body.classList.contains('light') ? 'â˜€ï¸' : 'ğŸŒ™'; try{localStorage.setItem('site-theme', t)}catch(e){} }
    (function(){ let t='dark'; try{const s=localStorage.getItem('site-theme'); if(s) t=s;}catch(e){} applyThemePage(t); gBtn.addEventListener('click', ()=>{const cur=document.body.classList.contains('light')?'light':'dark'; applyThemePage(cur==='light'?'dark':'light');}); })();
  </script>
</body>
</html>
